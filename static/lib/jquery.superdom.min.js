/*! jQuery SuperDOM v0.0.5 | (c) 2014 metaist | http://opensource.org/licenses/MIT */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";var b="undefined",c=/^(?:checkbox|radio)$/i,d=/[\t\r\n\f]/g,e=/<|&#?\w+;/,f=/^\s+/,g=/\S+/g,h=/^$|\/(?:java|ecma)script/i,i=/^<((\w+:)?\w+)\s*\/?>(?:<\/\1>|)$/,j=/<([\w:]+)/,k=/\w+:\w+/g,l=/(\w+:)?(\w+)/,m=/<tbody/i,n="[\\x20\\t\\r\\n\\f]",o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=new RegExp("\\\\([\\da-f]{1,6}"+n+"?|("+n+")|.)","ig"),q=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},r="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",s={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:a.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},t=function(a){var b=r.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)y(c,b.pop());return c},u=function(c,d){var e,f,g=0,h=typeof c.getElementsByTagName!==b?c.getElementsByTagNameNS("*",d||"*"):typeof c.querySelectorAll!==b?c.querySelectorAll(d||"*"):void 0;if(!h)for(h=[],e=c.childNodes||c;null!=(f=e[g]);g++)!d||a.nodeName(f,d)?h.push(f):a.merge(h,u(f,d));return void 0===d||d&&a.nodeName(c,d)?a.merge([c],h):h},v=function(a){c.test(a.type)&&(a.defaultChecked=a.checked)},w=function(b,c){for(var d,e=0;null!=(d=b[e]);e++)a._data(d,"globalEval",!c||a._data(c[e],"globalEval"))},x=function(a){return(" "+a+" ").replace(d," ")},y=function(b,c,d){var e;return"string"==typeof b&&(d=c,c=b,b=document),c?(e=c.indexOf(":"),!d&&e>0&&(d=c.substring(0,e),a.superdom.options.keepNSPrefix||(c=c.substring(e+1))),a.ns.hasOwnProperty(d)&&(d=a.ns[d]),d?b.createElementNS(d,c):b.createElement(c)):null},z='<!DOCTYPE data PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',A=function(b){var c,d=z+'<root xmlns="'+a.ns.xhtml+'" ';a.each(a.ns,function(a,b){"xmlns"!==a&&(d+="xmlns:"+a+'="'+b+'" ')}),d+=">"+b+"</root>";try{c=a.parseXML(d)}catch(e){a.error("Error parsing XML.")}return c&&c.documentElement},B=function(b,c){var d,e=y(b,c.nodeName);return a.each(a.makeArray(c.childNodes),function(a,c){1===c.nodeType&&(c=B(b,c)),e.appendChild(c)}),a.each(c.attributes,function(a){e.attributes.setNamedItem(this.cloneNode())}),e},C={superdom:a.superdom,ns:a.ns,parseDOM:a.parseDOM,parseHTML:a.parseHTML,nodeName:a.nodeName,buildFragment:a.buildFragment,expr:{":":{ns:a.expr[":"].ns},filter:{TAG:a.expr.filter.TAG},find:{TAG:a.expr.find.TAG}},fn:{hasNS:a.fn.hasNS,addClass:a.fn.addClass,removeClass:a.fn.removeClass,toggleClass:a.fn.toggleClass,hasClass:a.fn.hasClass}},D=function(a,b){var c=b.split("."),d=c.slice(-1),e,f=c.length-1;for(e=0;f>e;e++)a=a[c[e]];return a[d]},E=function(b,c,d){for(var e=b,f=b,g=c.split("."),h=g.slice(-1)[0],i=g.length-1,j=0;i>j;j++)f.hasOwnProperty(g[j])||(f[g[j]]={}),f=f[g[j]];return a.isPlainObject(d)?a.each(d,function(a,d){E(b,c+"."+a,d)}):f[h]=d,e},F={superdom:{version:"0.0.5",options:{keepNSPrefix:!1},noConflict:function(b){var c=F;return b&&"array"!==a.type(b)&&(b=[b]),b&&0!==b.length?(c={},a.each(b,function(b,d){E(c,d,D(F,d)),E(a,d,D(C,d))})):a.each(C,function(b,c){E(a,b,c)}),c}},ns:{math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},expr:{":":{ns:function(b,c,d,e){return a(b).hasNS(d[3])}},filter:{TAG:function(a){var b=a.replace(p,q).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&l.exec(a.nodeName.toLowerCase())[2]===b}}},find:{TAG:a.support.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==b?c.getElementsByTagNameNS("*",a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagNameNS("*",a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f}}},nodeName:function(a,b){return a.nodeName&&l.exec(a.nodeName.toLowerCase())[2]===b.toLowerCase()},buildFragment:function(b,c,d,g){for(var i,k,l,n,p,q,r,x=b.length,y=t(c),z=[],C=0;x>C;C++)if(k=b[C],k||0===k)if("object"===a.type(k))a.merge(z,k.nodeType?[k]:k);else if(e.test(k)){n=n||y.appendChild(c.createElement("div")),p=(j.exec(k)||["",""])[1].toLowerCase(),r=s[p]||s._default,n=A(r[1]+k.replace(o,"<$1></$2>")+r[2]),i=r[0];while(i--)n=n.lastChild;if(!a.support.leadingWhitespace&&f.test(k)&&z.push(c.createTextNode(f.exec(k)[0])),!a.support.tbody){k="table"!==p||m.test(k)?"<table>"!==r[1]||m.test(k)?0:n:n.firstChild,i=k&&k.childNodes.length;while(i--)q=k.childNodes[i],a.nodeName(q,"tbody")&&!q.childNodes.length&&k.removeChild(q)}i=n.childNodes.length;for(var D=0;i>D;D++)z.push(B(c,n.childNodes[D]));n.textContent="";while(n.firstChild)n.removeChild(n.firstChild);n=y.lastChild}else z.push(c.createTextNode(k));n&&y.removeChild(n),a.support.appendChecked||a.grep(u(z,"input"),v),C=0;while(k=z[C++])if((!g||-1===a.inArray(k,g))&&(l=a.contains(k.ownerDocument,k),n=u(y.appendChild(k),"script"),l&&w(n),d)){i=0;while(k=n[i++])h.test(k.type||"")&&d.push(k)}return n=null,y},parseDOM:function(b,c,d){if(!b||"string"!=typeof b)return null;"boolean"==typeof c&&(d=c,c=!1),c=c||document;var e=i.exec(b),f=!d&&[];return e?[y(c,e[1])]:(e=a.buildFragment([b],c,f),f&&f.length&&a(f).remove(),a.merge([],e.childNodes))}},G={hasNS:function(b){var c,d=this.length;for(b=b.toLowerCase(),a.ns.hasOwnProperty(b)&&(b=a.ns[b]),c=0;d>c;c++)if(b===this[c].namespaceURI)return!0;return!1},addClass:function(b){var c,d="string"==typeof b&&b;return a.isFunction(b)?this.each(function(c){a(this).addClass(b.call(this,c,this.getAttribute("class")))}):d?(c=b.match(g)||[],this.each(function(){if(1===this.nodeType){var b=this.getAttribute("class"),d=b?x(b):" ";a.each(c,function(a,b){-1===d.indexOf(" "+b+" ")&&(d+=b+" ")}),d=a.trim(d),b!==d&&this.setAttribute("class",d)}})):this},removeClass:function(b){var c,d=0===arguments.length||"string"==typeof b&&b;return a.isFunction(b)?this.each(function(c){a(this).removeClass(b.call(this,c,this.getAttribute("class")))}):d?(c=b.match(g)||[],this.each(function(){var d=this.getAttribute("class"),e=d?x(d):"";1===this.nodeType&&e&&(a.each(c,function(a,b){b=" "+b+" ";while(e.indexOf(b)>=0)e=e.replace(b," ")}),e=b?a.trim(e):"",d!==e&&this.setAttribute("class",e))})):this},toggleClass:function(c,d){var e=typeof c;return"boolean"==typeof d&&"string"===e?d?this.addClass(c):this.removeClass(c):this.each(a.isFunction(c)?function(b){a(this).toggleClass(c.call(this,b,this.getAttribute("class"),d),d)}:function(){var d,f,h,i=a(this);"string"===e?(d=c.match(g)||[],a.each(d,function(a,b){return i.hasClass(b)?i.removeClass(b):i.addClass(b)})):(e===b||"boolean"===e)&&(h=this.getAttribute("class"),h&&i.data("__className__",h),this.setAttribute("class",h||!1===c?"":i.data("__className__")||""))})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(c=0;d>c;c+=1)if(1===this[c].nodeType&&x(this[c].getAttribute("class")).indexOf(b)>=0)return!0;return!1}};return F.parseHTML=F.parseDOM,a.extend(F,{fn:G}),a.extend(!0,a,F),F});
